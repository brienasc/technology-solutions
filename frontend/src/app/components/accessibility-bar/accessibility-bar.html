<button *ngIf="!isMenuOpen" class="access-menu-toggle-fixed" (click)="isMenuOpen = true" aria-label="Abrir Ferramentas de Acessibilidade" title="Abrir Ferramentas de Acessibilidade">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="w-6 h-6">
        <path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd" />
    </svg>
    <span class="toggle-text">Acessibilidade</span>
</button>


<div class="accessibility-bar-overlay" [class.open]="isMenuOpen" *ngIf="isMenuOpen">
    <div class="access-bar-content">

        <button class="access-close-btn" (click)="isMenuOpen = false" aria-label="Fechar Ferramentas de Acessibilidade" title="Fechar">
            &times; 
        </button>
    </div>
</div>


<div class="accessibility-bar-overlay" [class.open]="isMenuOpen">
    <div class="access-bar-content">

        <div class="access-header-group">
            <h3 class="access-title">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="w-6 h-6">
                    <path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd" />
                </svg> Ferramentas de Acessibilidade
            </h3>
            <p class="access-instruction">Navegação: Use Tab para navegar. Enter para selecionar. Esc para fechar menus</p>
        </div>

        <div class="access-controls-group">

            <button (click)="toggleHighContrast()" [attr.aria-pressed]="isHighContrast" class="control-btn contrast-btn" aria-label="Alternar Auto Contraste" title="Auto Contraste">
                Auto Contraste
            </button>

            <div class="font-size-control">
                <button mat-icon-button color="basic" class="font-btn minus-btn" (click)="decreaseFontSize()" [disabled]="fontSizeLevel === MIN_FONT_LEVEL" aria-label="Diminuir tamanho da fonte" title="Diminuir Fonte">
                    —
                </button>
                <span class="font-size-indicator">{{ displayFontSize }}</span>
                <button mat-icon-button color="basic" class="font-btn plus-btn" (click)="increaseFontSize()" [disabled]="fontSizeLevel === MAX_FONT_LEVEL" aria-label="Aumentar tamanho da fonte" title="Aumentar Fonte">
                    +
                </button>
            </div>

            <!-- <div class="font-size-control">
                <button class="font-btn minus-btn" aria-label="Diminuir tamanho da fonte" title="Diminuir Fonte"> - </button>
                <span class="font-size-indicator">16px</span>
                <button class="font-btn plus-btn" aria-label="Aumentar tamanho da fonte" title="Aumentar Fonte"> + </button>
            </div> -->

            <button onclick="document.querySelector('[vw-access-button]').click()" class="control-btn vlibras-btn" aria-label="Ativar Tradutor VLibras" title="VLibras">
                VLibras
            </button>

            <button class="control-btn reader-btn" aria-label="Ativar leitura da tela" title="Leitor de Tela">
                Leitor
            </button>

            <button class="control-btn reset-btn" (click)="resetAcessibilitySettings()" aria-label="Redefinir todas as configurações de acessibilidade" title="Reset">
                Reset
            </button>
        </div>

        <button class="access-close-btn" (click)="isMenuOpen = false" aria-label="Fechar Ferramentas de Acessibilidade" title="Fechar">
            &times; </button>
    </div>
</div>