<!-- frontend/src/app/components/header/header.html -->

<header class="app-header">
  <div class="header-container">
    <!-- Logo -->
    <div class="header-logo" (click)="navigateToHome()">
      <img ngSrc="app/assets/imagens/logoheader.png" width="40" height="40" alt="Technology Solutions Logo"/>
    </div>

    <!-- Navegação Desktop -->
    <nav class="header-nav desktop-nav">
      <ul>

        <li><a routerLink="" (click)="closeMobileMenu()">Home</a></li>
        <li><a routerLink="/sobre" (click)="closeMobileMenu()">Sobre</a></li>
        <li><a routerLink="/servicos" (click)="closeMobileMenu()">Serviços</a></li>
        <li><a routerLink="/vagas" (click)="closeMobileMenu()">Vagas</a></li>
        <li><a routerLink="/contato" (click)="closeMobileMenu()">Contato</a></li>
        <!-- O botão "Convites" e "Menu Gerencial" foram movidos para a div header-buttons -->

        <li><a href="#home" (click)="closeMobileMenu()">Home</a></li>
        <li><a href="#sobre" (click)="closeMobileMenu()">Sobre</a></li>
        <li><a href="#servicos" (click)="closeMobileMenu()">Serviços</a></li>
        <li><a href="#vagas" (click)="closeMobileMenu()">Vagas</a></li>
        <li><a href="#contato" (click)="closeMobileMenu()">Contato</a></li>
        <li *ngIf="authService.isRH() || authService.isAdmin()">
          <a routerLink="/convites" (click)="onConvitesClick()">Menu Convites</a>
        </li>

      </ul>

      <!-- Toggle de Tema Desktop -->
      <label class="theme-switch desktop-theme-switch">
        <input type="checkbox" [checked]="isDarkTheme" (change)="toggleTheme()">
        <span class="slider round"></span>
      </label>
    </nav>

    <!-- Botões Desktop -->
    <div class="header-buttons desktop-buttons">
      @if (!isLoggedIn) {
        <a routerLink="/login" class="secondary-button-outline" (click)="closeMobileMenu()">
          Faça seu Login
        </a>
      }
      <!-- Botão "Menu Convites" com estilo de botão e visibilidade condicional -->
      @if (authService.isRH() || authService.isAdmin()) {
        <a routerLink="/convites" class="secondary-button-outline" (click)="onConvitesClick()">
          Menu Convites
        </a>
      }
      <!-- Botão "Menu Gerencial" com estilo de botão e visibilidade condicional -->
      @if (authService.isRH() || authService.isAdmin()) {
        <a routerLink="/menu-gerencial" class="secondary-button-outline" (click)="onMenuGerencialClick()">
          Menu Gerencial
        </a>
      }
      @if (isLoggedIn) {
        <button class="secondary-button-outline" (click)="onLogout()">
          Sair
        </button>
      }
    </div>

    <!-- Botão Hamburguer Mobile -->
    <button 
      class="mobile-menu-toggle" 
      (click)="toggleMobileMenu()"
      [class.active]="isMobileMenuOpen"
      aria-label="Toggle menu"
    >
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
  </div>

  <!-- Overlay Mobile -->
  @if (isMobileMenuOpen) {
    <div 
      class="mobile-menu-overlay" 
      (click)="closeMobileMenu()"
    ></div>
  }

  <!-- Menu Mobile -->
  @if (isMobileMenuOpen) {
    <div 
      class="mobile-menu" 
    >
      <!-- Header do Menu Mobile -->
      <div class="mobile-menu-header">
        <h3 class="mobile-menu-title">Menu</h3>
        <button class="mobile-close-btn" (click)="closeMobileMenu()">
          ×
        </button>
      </div>


      <!-- Navegação Mobile -->
      <nav class="mobile-nav">
        <ul>
          <li>
            <a routerLink="" (click)="closeMobileMenu()" class="mobile-nav-link">
              <i class="fas fa-home"></i>
              Home
            </a>
          </li>
          <li>
            <a routerLink="/sobre" (click)="closeMobileMenu()" class="mobile-nav-link">
              <i class="fas fa-info-circle"></i>
              Sobre
            </a>
          </li>
          <li>
            <a routerLink="/servicos" (click)="closeMobileMenu()" class="mobile-nav-link">
              <i class="fas fa-cogs"></i>
              Serviços
            </a>
          </li>
          <li>
            <a routerLink="/vagas" (click)="closeMobileMenu()" class="mobile-nav-link">
              <i class="fas fa-briefcase"></i>
              Vagas
            </a>
          </li>
          <li>
            <a routerLink="/contato" (click)="closeMobileMenu()" class="mobile-nav-link">
              <i class="fas fa-envelope"></i>
              Contato
            </a>
          </li>
          <!-- Botão "Convites" no menu mobile com estilo de botão e visibilidade condicional -->
          @if (authService.isRH() || authService.isAdmin()) {
            <li>
              <a routerLink="/convites" class="mobile-btn" (click)="onConvitesClick()">
                <i class="fas fa-users"></i>
                Menu Convites
              </a>
            </li>
          }
          <!-- Botão "Menu Gerencial" no menu mobile -->
          @if (authService.isRH() || authService.isAdmin()) {
            <li>
              <a routerLink="/menu-gerencial" class="mobile-btn" (click)="onMenuGerencialClick()">
                <i class="fas fa-chart-line"></i> <!-- Ícone de gráfico/gerenciamento -->
                Menu Gerencial
              </a>
            </li>
          }
        </ul>
      </nav>

      <!-- Toggle de Tema Mobile -->
      <div class="mobile-theme-section">
        <label class="mobile-theme-switch">
          <span class="theme-label">Modo Escuro</span>
          <div class="theme-switch">
            <input type="checkbox" [checked]="isDarkTheme" (change)="toggleTheme()">
            <span class="slider round"></span>
          </div>
        </label>
      </div>

      <!-- Botões Mobile -->
      <div class="mobile-actions">
        @if (!isLoggedIn) {
          <a routerLink="/login" class="mobile-btn" (click)="closeMobileMenu()">
            <i class="fas fa-sign-in-alt"></i>
            Faça seu Login

    <!-- Navegação Mobile -->
    <nav class="mobile-nav">
      <ul>
        <li>
          <a href="#home" (click)="closeMobileMenu()" class="mobile-nav-link">
            <i class="fas fa-home"></i>
            Home
          </a>
        </li>
        <li>
          <a href="#sobre" (click)="closeMobileMenu()" class="mobile-nav-link">
            <i class="fas fa-info-circle"></i>
            Sobre
          </a>
        </li>
        <li>
          <a href="#servicos" (click)="closeMobileMenu()" class="mobile-nav-link">
            <i class="fas fa-cogs"></i>
            Serviços
          </a>
        </li>
        <li>
          <a href="#vagas" (click)="closeMobileMenu()" class="mobile-nav-link">
            <i class="fas fa-briefcase"></i>
            Vagas
          </a>
        </li>
        <li>
          <a href="#contato" (click)="closeMobileMenu()" class="mobile-nav-link">
            <i class="fas fa-envelope"></i>
            Contato

          </a>
        }
        <!-- Botão "Convites" no menu mobile com estilo de botão e visibilidade condicional -->
        @if (authService.isRH() || authService.isAdmin()) {
          <a routerLink="/convites" class="mobile-btn" (click)="onConvitesClick()">
            <i class="fas fa-users"></i>
            Menu Convites
          </a>
        }
        <!-- Botão "Menu Gerencial" no menu mobile -->
        @if (authService.isRH() || authService.isAdmin()) {
          <a routerLink="/menu-gerencial" class="mobile-btn" (click)="onMenuGerencialClick()">
            <i class="fas fa-chart-line"></i>
            Menu Gerencial
          </a>
        }
        @if (isLoggedIn) {
          <button class="mobile-btn" (click)="onLogout()">
            <i class="fas fa-sign-out-alt"></i>
            Sair
          </button>
        }
      </div>
    </div>
  }
</header>
